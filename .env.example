# HybridRAG Emergency Medicine System Configuration
# Copy this file to .env and update values for your environment

# =============================================================================
# LM Studio Configuration (Local LLM)
# =============================================================================
LM_STUDIO_HOST=http://192.168.2.64:1234
LM_STUDIO_MODEL=local-model
LM_STUDIO_TIMEOUT=30

# =============================================================================
# Vector Database Configuration
# =============================================================================
VECTOR_DB_PATH=./vector_db
COLLECTION_NAME=emergency_medicine
VECTOR_DB_PERSIST_DIRECTORY=./vector_db

# =============================================================================
# Knowledge Graph Configuration
# =============================================================================
# Use NetworkX (default) or Neo4j
KNOWLEDGE_GRAPH_TYPE=networkx
KNOWLEDGE_GRAPH_PATH=./vector_db/knowledge_graph.pkl

# Neo4j Configuration (if using Neo4j instead of NetworkX)
# NEO4J_URI=bolt://localhost:7687
# NEO4J_USER=neo4j
# NEO4J_PASSWORD=password

# =============================================================================
# AI Models Configuration
# =============================================================================
# Embedding model for vector search
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Medical-specific embedding model (recommended)
MEDICAL_EMBEDDING_MODEL=sentence-transformers/S-PubMedBert-MS-MARCO

# Reranker model for relevance scoring
RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2

# Medical entity extraction model (requires Python 3.10.x)
MEDICAL_NLP_MODEL=en_core_sci_scibert

# GPU acceleration for spaCy (optional but recommended)
# See: https://spacy.io/usage#gpu
# SPACY_GPU=0  # Set to GPU device ID if available

# =============================================================================
# Web Server Configuration
# =============================================================================
FASTAPI_HOST=0.0.0.0
FASTAPI_PORT=5000
FASTAPI_DEBUG=False
FASTAPI_RELOAD=False

# =============================================================================
# Document Processing Configuration
# =============================================================================
# Text chunking parameters
CHUNK_SIZE=512
CHUNK_OVERLAP=50
MIN_CHUNK_SIZE=100
MAX_CHUNK_SIZE=1024

# Processing limits
MAX_DOCUMENTS=10000
MAX_FILE_SIZE_MB=50
BATCH_SIZE=10

# Supported file extensions
SUPPORTED_EXTENSIONS=.pdf,.docx,.pptx,.xlsx,.csv,.md,.html,.txt

# =============================================================================
# Search Configuration
# =============================================================================
# Default search parameters
DEFAULT_MAX_RESULTS=10
DEFAULT_SIMILARITY_THRESHOLD=0.7
DEFAULT_USE_VECTOR=true
DEFAULT_USE_KNOWLEDGE_GRAPH=true
DEFAULT_USE_RERANKING=true

# Knowledge graph search depth
KG_MAX_DEPTH=3
KG_MAX_NODES=100

# =============================================================================
# Medical Configuration
# =============================================================================
# Medical entity extraction confidence threshold
MEDICAL_ENTITY_CONFIDENCE=0.8

# Medical relationship confidence threshold
MEDICAL_RELATIONSHIP_CONFIDENCE=0.7

# Enable medical disclaimer in responses
ENABLE_MEDICAL_DISCLAIMER=true

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE=./logs/application.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# =============================================================================
# Security Configuration
# =============================================================================
# Enable CORS (set allowed origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:5000,http://127.0.0.1:5000

# API rate limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=60

# Enable authentication (set to true for production)
ENABLE_AUTH=false
SECRET_KEY=your-secret-key-change-this-in-production

# =============================================================================
# Performance Configuration
# =============================================================================
# Memory limits for processing
MAX_MEMORY_MB=4096
MAX_CPU_CORES=4

# Cache settings
ENABLE_CACHING=true
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE=1000

# Async processing
MAX_CONCURRENT_REQUESTS=10
REQUEST_TIMEOUT=300

# =============================================================================
# Development Configuration
# =============================================================================
# Enable development features
DEV_MODE=false
ENABLE_PROFILING=false
ENABLE_METRICS=false

# Test data paths
TEST_DOCUMENTS_PATH=./test_data
SAMPLE_DATA_PATH=./samples

# =============================================================================
# Healthcare Specific Settings
# =============================================================================
# Emergency medicine specialty focus
SPECIALTY_FOCUS=emergency_medicine

# Clinical decision support level
CDS_LEVEL=informational  # Options: informational, advisory, alert

# Medical terminology validation
VALIDATE_MEDICAL_TERMS=true
MEDICAL_DICTIONARY_PATH=./data/medical_terms.json

# HIPAA compliance mode (affects logging and data handling)
HIPAA_COMPLIANCE_MODE=false

# =============================================================================
# Example Values (uncomment and modify as needed)
# =============================================================================

# For development with local models:
# LM_STUDIO_HOST=http://localhost:1234
# FASTAPI_DEBUG=true
# LOG_LEVEL=DEBUG

# For production deployment:
# FASTAPI_DEBUG=false
# ENABLE_AUTH=true
# HIPAA_COMPLIANCE_MODE=true
# LOG_LEVEL=WARNING

# For high-performance setup:
# MAX_MEMORY_MB=8192
# MAX_CPU_CORES=8
# BATCH_SIZE=20
# MAX_CONCURRENT_REQUESTS=20